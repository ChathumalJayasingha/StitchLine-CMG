<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Customers</title>
    <link rel="stylesheet" href="assets/vendors/mdi/css/materialdesignicons.min.css">
    <link rel="stylesheet" href="assets/vendors/css/vendor.bundle.base.css">
    <link rel="stylesheet" href="assets/css/style.css">
  </head>
  <body>
    <div class="container-scroller">
      <div class="container-fluid page-body-wrapper">
        <nav class="sidebar sidebar-offcanvas" id="sidebar">
          <ul class="nav">
            <li class="nav-item nav-profile">
              <a href="#" class="nav-link">
                <div class="nav-profile-image">
                  <img src="assets/images/faces/face1.jpg" alt="profile">
                  <span class="login-status online"></span>
                </div>
                <div class="nav-profile-text d-flex flex-column">
                  <span class="font-weight-bold mb-2" id="lblAdminName"></span>
                  <span class="text-secondary text-small" id="lblAdminEmployeeId"></span>
                </div>
                <i class="mdi mdi-bookmark-check text-success nav-profile-badge"></i>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="Dashboard.html">
                <span class="menu-title">Dashboard</span>
                <i class="mdi mdi-home menu-icon"></i>
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="EditAdminPage.html">
                <span class="menu-title">Edit My Page</span>
                <i class="mdi mdi-format-list-bulleted menu-icon"></i>
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="Customers.html">
                <span class="menu-title">All Users</span>
                <i class="mdi mdi-table-large menu-icon"></i>
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="Login.html">
                <span class="menu-title">Logout</span>
                <i class="mdi mdi-login menu-icon"></i>
              </a>
            </li>


          </ul>
        </nav>
        <!-- partial -->
        <div class="main-panel">
          <div class="content-wrapper">
            <div class="page-header">
              <h3 class="page-title"> All Users </h3>
              <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
<!--                  <li class="breadcrumb-item"><a href="#">Tables</a></li>-->
<!--                  <li class="breadcrumb-item active" aria-current="page">All Customers</li>-->
                </ol>
              </nav>
            </div>
            <div class="row">


              <div class="col-lg-12 grid-margin stretch-card">
                <div class="card">
                  <div class="card-body">
<!--                    <h4 class="card-title">Striped Table</h4>-->
<!--                    <p class="card-description"> Add class <code>.table-striped</code>-->
                    </p>
                    <table class="table table-striped">
                      <thead>
                        <tr>
                          <th> User </th>
                          <th> Name </th>
                          <th> Mobile </th>
                          <th> UserName </th>
                          <th> Email </th>
                        </tr>
                      </thead>
                      <tbody id="CustomersPageTbody">
<!--                        <tr>-->
<!--                          <td class="py-1">-->
<!--                            <img src="assets/images/faces-clipart/pic-1.png" alt="image" />-->
<!--                          </td>-->
<!--                          <td> Herman Beck </td>-->
<!--                          <td>-->
<!--                            <div class="progress">-->
<!--                              <div class="progress-bar bg-success" role="progressbar" style="width: 25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>-->
<!--                            </div>-->
<!--                          </td>-->
<!--                          <td> $ 77.99 </td>-->
<!--                          <td> May 15, 2015 </td>-->
<!--                        </tr>-->


<!--                        <tr>-->
<!--                          <td class="py-1">-->
<!--                            <img src="assets/images/faces-clipart/pic-2.png" alt="image" />-->
<!--                          </td>-->
<!--                          <td> Messsy Adam </td>-->
<!--                          <td>-->
<!--                            <div class="progress">-->
<!--                              <div class="progress-bar bg-danger" role="progressbar" style="width: 75%" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>-->
<!--                            </div>-->
<!--                          </td>-->
<!--                          <td> $245.30 </td>-->
<!--                          <td> July 1, 2015 </td>-->
<!--                        </tr>-->
<!--                        <tr>-->
<!--                          <td class="py-1">-->
<!--                            <img src="assets/images/faces-clipart/pic-3.png" alt="image" />-->
<!--                          </td>-->
<!--                          <td> John Richards </td>-->
<!--                          <td>-->
<!--                            <div class="progress">-->
<!--                              <div class="progress-bar bg-warning" role="progressbar" style="width: 90%" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100"></div>-->
<!--                            </div>-->
<!--                          </td>-->
<!--                          <td> $138.00 </td>-->
<!--                          <td> Apr 12, 2015 </td>-->
<!--                        </tr>-->
<!--                        <tr>-->
<!--                          <td class="py-1">-->
<!--                            <img src="assets/images/faces-clipart/pic-4.png" alt="image" />-->
<!--                          </td>-->
<!--                          <td> Peter Meggik </td>-->
<!--                          <td>-->
<!--                            <div class="progress">-->
<!--                              <div class="progress-bar bg-primary" role="progressbar" style="width: 50%" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>-->
<!--                            </div>-->
<!--                          </td>-->
<!--                          <td> $ 77.99 </td>-->
<!--                          <td> May 15, 2015 </td>-->
<!--                        </tr>-->
<!--                        <tr>-->
<!--                          <td class="py-1">-->
<!--                            <img src="assets/images/faces-clipart/pic-1.png" alt="image" />-->
<!--                          </td>-->
<!--                          <td> Edward </td>-->
<!--                          <td>-->
<!--                            <div class="progress">-->
<!--                              <div class="progress-bar bg-danger" role="progressbar" style="width: 35%" aria-valuenow="35" aria-valuemin="0" aria-valuemax="100"></div>-->
<!--                            </div>-->
<!--                          </td>-->
<!--                          <td> $ 160.25 </td>-->
<!--                          <td> May 03, 2015 </td>-->
<!--                        </tr>-->
<!--                        <tr>-->
<!--                          <td class="py-1">-->
<!--                            <img src="assets/images/faces-clipart/pic-2.png" alt="image" />-->
<!--                          </td>-->
<!--                          <td> John Doe </td>-->
<!--                          <td>-->
<!--                            <div class="progress">-->
<!--                              <div class="progress-bar bg-info" role="progressbar" style="width: 65%" aria-valuenow="65" aria-valuemin="0" aria-valuemax="100"></div>-->
<!--                            </div>-->
<!--                          </td>-->
<!--                          <td> $ 123.21 </td>-->
<!--                          <td> April 05, 2015 </td>-->
<!--                        </tr>-->
<!--                        <tr>-->
<!--                          <td class="py-1">-->
<!--                            <img src="assets/images/faces-clipart/pic-3.png" alt="image" />-->
<!--                          </td>-->
<!--                          <td> Henry Tom </td>-->
<!--                          <td>-->
<!--                            <div class="progress">-->
<!--                              <div class="progress-bar bg-warning" role="progressbar" style="width: 20%" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"></div>-->
<!--                            </div>-->
<!--                          </td>-->
<!--                          <td> $ 150.00 </td>-->
<!--                          <td> June 16, 2015 </td>-->
<!--                        </tr>-->
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>

            </div>
          </div>

          <footer class="footer">
            <div class="container-fluid clearfix">
              <span class="text-muted d-block text-center text-sm-left d-sm-inline-block">Copyright Â©  2020/2021</span>
              <span class="float-none float-sm-right d-block mt-1 mt-sm-0 text-center">  <a href="https://rwadproject.000webhostapp.com" target="_blank">My WebSite </a> </span>
            </div>
          </footer>
        </div>
      </div>
    </div>

    <script src="js/jquery.min.js"></script>
    <script src="assets/vendors/js/vendor.bundle.base.js"></script>
    <script src="assets/js/off-canvas.js"></script>
    <script src="assets/js/hoverable-collapse.js"></script>
    <script src="assets/js/misc.js"></script>
    <script>
      $(document).ready(function () {
        let parse = JSON.parse(sessionStorage.getItem("jsArray"));
        let email = parse[0];
        let role = parse[1];
        let password = parse[2];

        $.ajax({
          method: "get",
          url:'http://localhost:8080/user/getAllUser/',
          async:true,
          success:function(data){
            const allUsers = Object.values(data)[2];
            console.log(allUsers);
            for (let i = 0; i < allUsers.length; i++) {
                  var event_data = '';
                  $.each(data.data, function(index, value){
                    event_data += '<tr>';
                    event_data += '<td>'+ '<img src="assets/images/faces/face4.jpg"/>' +'</td>';
                    event_data += '<td>'+value.name+'</td>';
                    event_data += '<td>'+value.mobile+'</td>';
                    event_data += '<td>'+value.userName+'</td>';
                    event_data += '<td>'+value.email+'</td>';
                    event_data += '<tr>';
                  });
            }
            $("#CustomersPageTbody").append(event_data);

          },error:function (data) {
            alert(data)
          }
        })

      })

    </script>

  </body>
</html>
